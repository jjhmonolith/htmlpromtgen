
# EduContent 프롬프트 생성기 AI 아키텍처

이 문서는 EduContent 프롬프트 생성기 애플리케이션의 각 단계에서 AI가 어떻게 작동하는지에 대한 기술적인 개요를 제공합니다. 이 애플리케이션은 사용자의 아이디어를 최종 코드 생성용 프롬프트로 변환하기 위해 여러 단계에 걸쳐 AI 모델을 체계적으로 활용합니다.

## 개요: 5단계 프로세스

1.  **1단계: 기본 정보 입력**: 사용자가 프로젝트의 기본 정보(제목, 대상, 페이지별 주제, 참고 자료)를 입력합니다. 이 데이터는 AI 프로세스의 기반이 됩니다.
2.  **2단계: 비주얼 아이덴티티 정의**: AI가 '아트 디렉터' 역할을 맡아 프로젝트 전체의 디자인 시스템(분위기, 색상, 타이포그래피 등)을 수립합니다.
3.  **3단계: 페이지 레이아웃 제안**: AI가 2단계에서 정의된 디자인 시스템을 바탕으로 각 페이지의 구체적인 레이아웃과 콘텐츠 구조를 제안합니다.
4.  **4단계: 애니메이션 및 상호작용 추가**: AI가 3단계에서 확정된 레이아웃에 학습 몰입도를 높일 동적 효과(애니메이션, 상호작용)를 제안합니다.
5.  **5단계: 최종 프롬프트 생성**: 이전 단계들에서 수집되고 정제된 모든 정보를 종합하여, 최종 HTML/CSS 코드를 생성할 AI에게 전달할 완벽한 지시문을 만듭니다.

---

## Step 1 → Step 2: 비주얼 아이덴티티 정의 (`generateVisualIdentity`)

### 목표
프로젝트의 전반적인 시각적 방향성을 설정하고, 이후 모든 디자인 결정의 기준이 될 '디자인 시스템'을 수립합니다.

### 사용 AI 모델
*   **아트 디렉션**: `gemini-2.5-flash`
    *   선택 이유: 추상적인 요구사항(프로젝트 주제, 대상)을 분석하여 구체적인 디자인 컨셉(색상, 폰트, 분위기)으로 시각화하는 데 뛰어난 성능을 보입니다. JSON 출력을 안정적으로 생성할 수 있습니다.

### 프로세스 상세
1.  **입력 데이터**:
    *   **역할 부여 프롬프트**: AI에게 "프로젝트의 전체적인 비주얼 컨셉을 잡는 아트 디렉터"라는 역할을 부여합니다.
    *   **프로젝트 컨텍스트**: Step 1에서 사용자가 입력한 `프로젝트 제목`, `대상 학습자`, `전체적인 제안` 사항을 제공합니다.
2.  **AI 작업**:
    *   **Mood & Tone**: 프로젝트의 분위기를 설명하는 키워드를 생성합니다.
    *   **Color Palette**: 분위기에 맞는 주조색, 보조색, 강조색 등을 HEX 코드로 제안합니다.
    *   **Typography**: 제목과 본문에 어울리는 폰트 규칙을 정의합니다.
    *   **Component Style**: 버튼, 카드 등 UI 요소의 기본 스타일을 제안합니다.
3.  **출력 형식 (JSON Schema)**:
    *   AI가 반드시 정해진 `JSON` 구조로 응답하도록 `responseSchema`를 사용하여 강제합니다. 이 `VisualIdentity` 객체는 이후 모든 단계에서 AI에게 전달될 핵심 '설계도'가 됩니다.
4.  **최종 결과**: 사용자는 AI가 제안한 디자인 시스템을 검토하고 다음 단계로 진행합니다.

---

## Step 2 → Step 3: 페이지 레이아웃 제안 (`generateInitialProposals`)

### 목표
정의된 디자인 시스템을 바탕으로, 사용자가 입력한 페이지별 주제를 구체적인 콘텐츠 레이아웃으로 변환합니다.

### 사용 AI 모델
*   **UI 디자인**: `gemini-2.5-flash`
    *   선택 이유: 텍스트와 이미지를 동시에 이해하는 멀티모달 기능과, 구조화된 텍스트(키워드 기반 레이아웃)를 생성하는 능력이 뛰어납니다.

### 프로세스 상세
1.  **입력 데이터**:
    *   **역할 부여 프롬프트**: AI에게 "주어진 비주얼 아이덴티티를 바탕으로 레이아웃을 구성하는 전문 UI 디자이너" 역할을 부여합니다.
    *   **디자인 시스템**: Step 2에서 생성된 `VisualIdentity` 객체를 프롬프트에 명시적으로 포함시켜, 모든 제안이 이 가이드라인을 따르도록 합니다.
    *   **페이지별 데이터**: 각 페이지의 `주제` 텍스트와 사용자가 업로드한 `참고 이미지`를 함께 전달합니다.
2.  **AI 작업**:
    *   디자인 시스템과 페이지 주제를 종합하여, 사전에 정의된 키워드(`HEADER:`, `TWO_COLUMN_LAYOUT_START` 등)를 사용해 구조화된 `layoutDescription`을 생성합니다.
    *   레이아웃에 필요한 이미지 목록과 AI 이미지 생성기용 상세 프롬프트를 제안합니다.
3.  **최종 결과**: 사용자는 '간이 미리보기' 기능을 통해 AI가 제안한 레이아웃 구조를 시각적으로 확인하고 수정할 수 있습니다.

---

## Step 3 → Step 4: 애니메이션 및 상호작용 제안 (`generateEnhancementSuggestions`)

### 목표
디자인 시스템과 일관성을 유지하면서, 정적인 레이아웃 위에 동적인 요소를 추가하여 콘텐츠를 더욱 매력적으로 만듭니다.

### 사용 AI 모델
*   **UX 디자인**: `gemini-2.5-flash`
    *   선택 이유: 복잡한 컨텍스트(레이아웃, 디자인 시스템)를 이해하고 창의적이면서도 목적에 맞는 상호작용 아이디어를 제안하는 데 뛰어납니다.

### 프로세스 상세
1.  **입력 데이터**:
    *   **역할 부여 프롬프트**: AI에게 "최고 수준의 UI/UX 디자이너" 역할을 부여합니다.
    *   **디자인 시스템**: Step 2에서 생성된 `VisualIdentity` 객체, 특히 `Mood & Tone` 정보를 전달하여 제안의 일관성을 유지합니다.
    *   **페이지별 데이터**: Step 3에서 확정된 `layoutDescription`을 전달합니다.
    *   **디자인 가이드라인**: "콘텐츠의 스토리를 강화하는 애니메이션", "미세 상호작용" 등 구체적인 지침을 프롬프트에 포함합니다.
2.  **AI 작업**:
    *   레이아웃과 디자인 컨셉을 분석하여 각 요소에 적용할 CSS 애니메이션 효과(`animationDescription`)와 상호작용 아이디어(`interactionDescription`)를 제안합니다.
3.  **출력 형식 (JSON Schema)**:
    *   `responseSchema`를 통해 예측 가능한 JSON 객체를 반환받습니다.
4.  **최종 결과**: 사용자는 AI가 제안한 동적 효과를 검토하고 자신의 의도에 맞게 수정합니다.

---

## Step 4 → Step 5: 최종 프롬프트 생성 (`generateFinalPrompt`)

### 목표
모든 단계를 거치며 만들어진 기획 내용을 종합하여, 최종 코드를 생성할 외부 AI에게 전달할 완벽한 단일 프롬프트를 생성합니다.

### AI 사용 여부
*   **이 단계에서는 AI를 사용하지 않습니다.**

### 프로세스 상세
1.  **결정론적 프로세스 (Deterministic Process)**:
    *   `constants.ts` 파일의 `generateFinalPrompt` 함수가 모든 데이터를 조합하여 최종 프롬프트를 생성합니다.
2.  **입력 데이터**:
    *   Step 1의 `ProjectData` (제목, 대상 등)
    *   Step 2의 `VisualIdentity` (디자인 시스템)
    *   Step 3의 `Step2Spec` (페이지별 레이아웃 명세)
    *   Step 4의 `Step3Spec` (페이지별 효과 명세)
3.  **작업**:
    *   강력한 개발 규칙(`NO_SCROLL_RULES`, `TECHNICAL_RULES` 등)과 `디자인 시스템` 정보를 서두에 배치합니다.
    *   그 아래에, 각 페이지별 상세 가이드를 순서대로 조합하여 하나의 긴 마크다운 형식의 텍스트로 만듭니다.
4.  **최종 결과**: 사용자가 복사하여 다른 AI 코드 생성기에 바로 붙여넣을 수 있는, 매우 체계적이고 상세하며 일관성 있는 최종 프롬프트가 생성됩니다.
